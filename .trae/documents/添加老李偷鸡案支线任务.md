# 添加《老李偷鸡案》支线任务与成就

我将为你实现一个多阶段的侦探支线任务“老李偷鸡案”，并包含对应的成就。

## 1. 新增成就
在 `src/data/achievements.ts` 中添加：
- **断案如神** (Old Li Chicken Theft Case): 成功破获老李偷鸡案，查明真相。奖励 100 阅历。

## 2. 新增支线任务事件
在 `src/data/events.ts` 中添加三个关联事件（加入 `npcEvents` 列表），通过 `flag` 状态串联：

### 阶段一：偷鸡疑云 (触发)
- **触发条件**：随机触发（概率 0.3），且未触发过此任务。
- **内容**：老张和老李在集市争吵，老张指控老李偷鸡。
- **选项**：
    1. **上前询问**：介入纠纷，开启任务。
    2. **无视**：放弃任务。

### 阶段二：案件调查 (搜证)
- **触发条件**：已开启任务 (`chicken_stage === 1`)。
- **内容**：你需要收集线索。根据之前的调查进度，可能会显示不同的信息。
- **选项**：
    1. **询问老张**：获得线索“墙上有梯印，老李鞋上有泥”。
    2. **询问老李**：获得线索“昨晚没出门，泥是池塘的”。
    3. **查看现场**：获得关键证据“麻绳上有鸡毛，且麻绳是老李编竹筐常用的”。
    4. **开始断案**：收集完证据后，进入下一阶段。

### 阶段三：升堂断案 (结局)
- **触发条件**：进入断案阶段 (`chicken_stage === 2`)。
- **内容**：根据收集的线索，做出最终判决。
- **选项**：
    1. **老李偷的**（正确）：基于关键证据（麻绳），老李认罪。获得声望，解锁成就。
    2. **老张诬告**（错误）：误判老张诬告，随后真相大白（老李确实偷了），声望下降。
    3. **证据不足**（搁置）：暂时无法定案。

## 3. 实现逻辑
- 使用 `flags` 来记录任务进度（如 `chicken_case_started`, `chicken_stage`）和线索获取情况。
- 成就系统将监听 `chicken_case_solved_success` 标志来解锁成就。
